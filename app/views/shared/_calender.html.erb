<%= month_calendar events: collection do |date, project| %>
<% project_date = '' %>
<% project_params = collection %>

  <% project_params.each do |project|%>
  <% project_date = project.registered_date %>

    <% if project_date == date %>
      <%= link_to  edit_project_path(project.id) do %>
        <%= date.day %>
        <%= project.project_name %>
      <% end %>
      <% break %>
    <% end %>

  <% end %>
    
    <% unless project_date == date %>
    <%# <% コントローラーの処理に渡す日付情報を設定 %>
      <%= link_to new_project_path(date: date, params_controller: params[:controller]) do %>
        <%= date.day %>
      <% end %>
    <% end %>

<% end %>
